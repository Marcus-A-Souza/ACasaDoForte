<!DOCTYPE HTML>
<html lang="pt-br">
<head>
    <title>Casa do Forte</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
    <link rel="stylesheet" href="assets/css/main.css" />
    <noscript><link rel="stylesheet" href="assets/css/noscript.css" /></noscript>

    <link rel="stylesheet" href="~/assets/css/styles.css" />
    
</head>

<body class="landing is-preload">
    <!-- Page Wrapper -->
    <div id="page-wrapper">

        <!-- Header -->
        <header id="header" class="alt">
            <h1><a href="Home">Casa do Forte</a></h1>
            <nav id="nav">
                <ul>
                    <li class="special">
                        <a href="#menu" class="menuToggle"><span>Menu</span></a>
                        <div id="menu">
                            <ul>
                                <li><a href="Home">Home</a></li>
                                <li><a href="Home/Somos">QUEM SOMOS</a></li>
                                <li><a href="Home/Estrutura">ESTRUTURA</a></li>
                                <li><a href="Home/Contato">CONTATO</a></li>
                            </ul>
                        </div>
                    </li>
                </ul>
            </nav>
        </header>

        <!-- Banner -->
        <section id="banner">
            <div class="inner">
                <img src="~/images/pic16.png" alt="Banner Image" class="banner-image">
                <div class="banner-text">
                    <h1 class="title">BEM VINDO A CASA DO FORTE</h1>
                    <p class="subtitle">SEU MELHOR LUGAR</p>
                </div>
            </div>

            <a href="#one" class="more scrolly">Saber mais</a>
        </section>

        <!-- Primeiro -->
        <section id="one" class="wrapper style1 special">
            <div class="inner">
                <header class="major">
                    <h2>Somos Especialistas Em Momentos Inesquecíveis</h2>
                    <p>
                        A Casa do Forte é o destino ideal para quem busca o local perfeito para celebrar momentos especiais.
                        Com uma infraestrutura de excelência e uma localização privilegiada, este espaço é projetado para
                        proporcionar experiências inesquecíveis.
                    </p>
                </header>
            </div>
        </section>
        <!-- Segundo -->
        <section id="two" class="wrapper alt style2">
            <section class="spotlight">
                <div class="image"><img src="images/pic11.jpg" alt="Ampla Área para Relaxar" /></div>
                <div class="content">
                    <h2>Ampla Área para Relaxar</h2>
                    <p>
                        Além da piscina, a Casa do Forte conta com uma ampla área de lazer que convida os visitantes a
                        relaxarem e desfrutarem do ambiente.
                    </p>
                </div>
            </section>

            <section class="spotlight">
                <div class="image"><img src="images/pic14.jpg" alt="Bio Ambiente" /></div>
                <div class="content">
                    <h2>Bio Ambiente</h2>
                    <p>
                        Com espaços verdes bem cuidados, áreas sombreadas e confortáveis, e uma atmosfera tranquila.
                    </p>
                </div>
            </section>

            <section class="spotlight">
                <div class="image"><img src="images/pic18.jpg" alt="PAZ E TRANQUILIDADE" /></div>
                <div class="content">
                    <h2>PAZ E TRANQUILIDADE</h2>
                    <p>
                        Desfrute com sua família e crie memórias fantásticas.
                    </p>
                </div>
            </section>
        </section>

        <!-- Terceiro -->
        <section id="three" class="wrapper style3 special">
            <div class="inner">
                <header class="major">
                    <h2>SEU MELHOR LUGAR!</h2>
                    <p>
                        Seja para um momento de descanso entre as atividades da festa ou para uma conversa tranquila com amigos e familiares,
                        a Casa do Forte oferece o ambiente ideal para relaxar.
                    </p>
                </header>
                <ul class="features">
                    <li class="icon fa-paper-plane">
                        <h3>FAÇA SUA RESERVA</h3>
                        <p>ENTRE EM CONTATO PELO TELEFONE (81) 99862-9223</p>
                    </li>
                    <li class="icon brands fa-instagram">
                        <h3>SIGA-NOS</h3>
                        <p>NAS REDES SOCIAIS PELO INSTAGRAM</p>
                    </li>
                </ul>
            </div>
        </section>

        <!-- Footer -->
        <footer id="footer">
            <ul class="icons">
                <li><a href="#" class="icon brands fa-twitter"><span class="label">Twitter</span></a></li>
                <li><a href="#" class="icon brands fa-instagram"><span class="label">Instagram</span></a></li>
                <li><a href="#" class="icon solid fa-envelope"><span class="label">Email</span></a></li>
            </ul>
            <ul class="copyright">
                <li>Desenvolvimento</li>
                <li>Marcus Souza</li>
                <li><a href="#" class="button fit">Subir</a></li>
            </ul>
        </footer>
        <div class="container">
            &copy; 2024 - casa do forte - <a asp-area="" asp-controller="Home" asp-action="Privacy">Política de Privacidade</a>
        </div>
    </div>
    <div>
        <!-- Avatar GIGI no canto direito -->
        <div class="avatar-container">
            <p>Olá! Eu sou a GIGI</p>
            <img src="https://www.designi.com.br/images/preview/11239175.jpg" alt="Avatar GIGI" class="avatar" onclick="toggleChat()">
            <p>Clicar!</p>
        </div>

        <!-- Caixa oculta de interação -->
        <div id="chatBox" class="chat-box">
            <p id="chatQuestion">Em que posso te ajudar? Deseja alugar nosso espaço?</p>
            <input type="text" id="userResponse" placeholder="Digite sua resposta aqui..." />
            <button onclick="handleChat()">Enviar</button>

            <!-- Calendário para seleção de data -->
            <div class="calendar-container" id="calendarContainer">
                <label for="rentalDate">Selecione a data:</label>
                <input type="date" id="rentalDate" />
            </div>
        </div>

    </div>

    <!-- Scripts -->
    <script src="assets/js/jquery.min.js"></script>
    <script src="assets/js/jquery.scrollex.min.js"></script>
    <script src="assets/js/jquery.scrolly.min.js"></script>
    <script src="assets/js/browser.min.js"></script>
    <script src="assets/js/breakpoints.min.js"></script>
    <script src="assets/js/util.js"></script>
    <script src="assets/js/main.js"></script>
    <script src="assets/Js/CpfValidation.js"></script>

    <!-- Lógica de interação da caixa de chat -->
    <script>
     var step = 0;
var userName = '';
var userCPF = '';
var userEmail = '';
var userDate = '';

function toggleChat() {
    var chatBox = document.getElementById('chatBox');
    if (chatBox.style.display === 'none' || chatBox.style.display === '') {
        chatBox.style.display = 'block';
        resetChat(); // Reiniciar chat ao abrir
    } else {
        chatBox.style.display = 'none';
    }
}

function resetChat() {
    step = 0; // Reiniciar o passo
    userName = '';
    userCPF = '';
    userEmail = '';
    userDate = '';
    document.getElementById('userResponse').style.display = 'block'; // Mostrar campo de entrada
    document.getElementById('calendarContainer').style.display = 'none'; // Ocultar calendário
    document.getElementById('userResponse').value = ''; // Limpar campo de entrada
    document.getElementById('chatQuestion').textContent = 'Em que posso te ajudar? Deseja alugar nosso espaço?';
}

function handleChat() {
    var userResponse = document.getElementById('userResponse').value.trim();
    var chatQuestion = document.getElementById('chatQuestion');
    var calendarContainer = document.getElementById('calendarContainer');

    if (step === 0) {
        if (userResponse.toLowerCase() === 'sim') {
            chatQuestion.textContent = 'Ok! Só preciso de algumas informações para continuarmos. Qual é o seu nome completo?';
            step++;
        } else if (userResponse.toLowerCase() === 'não') {
            chatQuestion.textContent = 'Obrigado pelo contato.';
            document.getElementById('userResponse').style.display = 'none'; // Ocultar campo de entrada
            step = 0; // Reiniciar o processo
        } else {
            chatQuestion.textContent = 'Por favor, responda com "sim" ou "não".';
        }
    } else if (step === 1) {
        if (validateName(userResponse)) {
            userName = userResponse;
            chatQuestion.textContent = 'Obrigado, ' + userName + '! Agora, me informe seu CPF.';
            step++;
        } else {
            chatQuestion.textContent = 'Por favor, informe um nome válido.';
        }
    } else if (step === 2) {
        if (validateCPF(userResponse)) {
            userCPF = userResponse;
            chatQuestion.textContent = 'Perfeito! Agora, por favor, me informe seu email.';
            step++;
        } else {
            chatQuestion.textContent = 'Por favor, informe um CPF válido.';
        }
    } else if (step === 3) {
        if (validateEmail(userResponse)) {
            userEmail = userResponse;
            chatQuestion.textContent = 'Qual dia você deseja alugar?';
            document.getElementById('userResponse').style.display = 'none'; // Ocultar campo de entrada
            calendarContainer.style.display = 'block'; // Mostrar calendário
            step++;
        } else {
            chatQuestion.textContent = 'Por favor, informe um email válido.';
        }
    } else if (step === 4) {
        userDate = document.getElementById('rentalDate').value;
        if (userDate) {
            var message = `Olá, gostaria de fazer uma reserva. Aqui estão os meus dados:\n` +
                `Nome: ${userName}\n` +
                `CPF: ${userCPF}\n` +
                `Email: ${userEmail}\n` +
                `Data desejada: ${userDate}`;

                    var whatsappURL = `https://api.whatsapp.com/send?phone=558199862-9223&text=${encodeURIComponent(message)}`;
            window.open(whatsappURL, '_blank');

            chatQuestion.textContent = 'Obrigado ' + userName + '! As informações foram enviadas para um dos nossos consultores.';
            document.getElementById('userResponse').style.display = 'none'; // Ocultar campo de entrada
            calendarContainer.style.display = 'none'; // Ocultar calendário
        } else {
            chatQuestion.textContent = 'Por favor, selecione uma data.';
        }
    }
    document.getElementById('userResponse').value = ''; // Limpar campo de entrada
}

// Função de validação de CPF (usando o algoritmo válido do CPF)
function validateCPF(cpf) {
    cpf = cpf.replace(/[^\d]+/g, ''); // Remover tudo que não for número
    if (cpf.length !== 11 || /^(\d)\1{10}$/.test(cpf)) {
        return false; // CPF inválido se todos os dígitos forem iguais ou se não tiver 11 dígitos
    }
    let sum = 0;
    let remainder;
    for (let i = 1; i <= 9; i++) sum += parseInt(cpf.substring(i - 1, i)) * (11 - i);
    remainder = (sum * 10) % 11;
    if (remainder === 10 || remainder === 11) remainder = 0;
    if (remainder !== parseInt(cpf.substring(9, 10))) return false;
    sum = 0;
    for (let i = 1; i <= 10; i++) sum += parseInt(cpf.substring(i - 1, i)) * (12 - i);
    remainder = (sum * 10) % 11;
    if (remainder === 10 || remainder === 11) remainder = 0;
    if (remainder !== parseInt(cpf.substring(10, 11))) return false;
    return true;
}

// Validação de nome simples (garantir que tenha pelo menos 2 palavras)
function validateName(name) {
    return name.split(' ').length >= 2;
}

// Validação de e-mail básico
function validateEmail(email) {
    var re = /\S+\S+\.\S+/;
    return re.test(email);
}


    </script>
</body>

</html>
